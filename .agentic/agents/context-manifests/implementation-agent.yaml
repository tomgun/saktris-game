# Context Manifest: Implementation Agent
# Token budget defines max context to load for this role

role: implementation-agent
token_budget: 5000
description: Write code to make tests pass (TDD green phase)

# Required context - always loaded
required:
  - spec/acceptance/{feature_id}.md        # Acceptance criteria for the feature
  - STACK.md[build_commands,test_commands] # How to build and test
  - CONTEXT_PACK.md[entry_points,modules]  # Where code lives
  - .agentic/agents/shared/guidelines/anti-hallucination.md  # Core rule
  - .agentic/quality/programming_standards.md  # Code standards (F2: quality by default)

# Optional context - loaded if token budget allows
optional:
  - .agentic/agents/shared/guidelines/small-batch.md  # Small batch principle
  - src/                                       # Existing code patterns (sampled)

# Excluded - never load (saves tokens)
exclude:
  - JOURNAL.md           # Historical, not needed for implementation
  - docs/research/       # Research phase output
  - spec/PRD.md          # Product requirements (planning phase)
  - .agentic/workflows/  # Meta-documentation
  - docs/adr/            # Decision records (reference only)

# Variables that can be substituted
variables:
  - feature_id   # e.g., F-0042

# Section extraction patterns (for partial file loading)
# Format: file.md[section1,section2] extracts only those sections
section_markers:
  STACK.md:
    build_commands: "## Build"
    test_commands: "## Test"
  CONTEXT_PACK.md:
    entry_points: "## Entry Points"
    modules: "## Modules"
