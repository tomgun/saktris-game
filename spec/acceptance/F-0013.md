# F-0013: TripletClearRule

## Acceptance Criteria

### AC1: Triplet detection
- Detects 3 same-type pieces in horizontal line
- Detects 3 same-type pieces in vertical line

### AC2: Trigger on moves only
- Only triggers after piece moves (not placements)
- Check happens immediately after move

### AC3: Direction determination
- Direction based on last-moved piece
- Pieces exit away from the "pusher"

### AC4: Victim bumping
- First piece in exit direction gets bumped
- Victim uses physics bump animation

### AC5: King capture win
- If victim is opponent's king, clearing player wins
- Game ends with "triplet clear" victory

### AC6: Clear animation
- All three pieces animate off screen
- Staggered exit timing
- Triplet clear sound plays

### AC7: Setting toggle
- Triplet clear can be enabled/disabled

## Test Notes
- Manual gameplay testing
- Test horizontal and vertical triplets
- Test king capture scenario
